<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FreeBSD点滴 &mdash; Learning 0.9 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Learning 0.9 documentation" href="index.html" />
    <link rel="next" title="学习数据挖掘" href="datamining.html" />
    <link rel="prev" title="Gentoo点滴" href="gentoo.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Learning</a>
        <span class="navbar-text navbar-version pull-left"><b>0.9</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="learning.html">学习方法与态度</a></li>
<li class="toctree-l1"><a class="reference internal" href="firefox.html">Speed Up Firefox</a></li>
<li class="toctree-l1"><a class="reference internal" href="bash.html">Learning Bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmux.html">tmux</a></li>
<li class="toctree-l1"><a class="reference internal" href="matplot.html">Learning Matplot Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="gnuplot.html">Introduce to the GNUPlot</a></li>
<li class="toctree-l1"><a class="reference internal" href="github.html">使用GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="gentoo.html">Gentoo点滴</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">FreeBSD点滴</a></li>
<li class="toctree-l1"><a class="reference internal" href="datamining.html">学习数据挖掘</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpm.html">RPM软件包</a></li>
<li class="toctree-l1"><a class="reference internal" href="vim.html">VIM Tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="php.html">PHP点滴</a></li>
<li class="toctree-l1"><a class="reference internal" href="nginx_directive.html">Nginx指令介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="mediawiki.html">MediaWiki点滴</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">docker使用小记</a></li>
<li class="toctree-l1"><a class="reference internal" href="mail.html">邮件系统-Postfix, Dovecot, MySQL和Postfixadmin</a></li>
<li class="toctree-l1"><a class="reference internal" href="lvm.html">LVM基础知识</a></li>
<li class="toctree-l1"><a class="reference internal" href="samba_ads.html">samba集成Active Directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="samba_basic.html">Samba</a></li>
<li class="toctree-l1"><a class="reference internal" href="disk_quota.html">磁盘配额管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="yslow.html">Best Practices for Speeding Up Your Web Site</a></li>
<li class="toctree-l1"><a class="reference internal" href="http_header.html">HTTP Header</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="kernel.html">学习内核相关知识</a></li>
<li class="toctree-l1"><a class="reference internal" href="lsp01.html">Linux系统编程（一） IO基础</a></li>
<li class="toctree-l1"><a class="reference internal" href="epoll_man.html">epoll(7)</a></li>
<li class="toctree-l1"><a class="reference internal" href="epoll.html">epoll API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pxe.html">通过PXE安装Linux</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sql.html">Learning SQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_io_benchmark.html">测试MySQL服务器性能</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_master_slave.html">MySQL配置Master-Slave</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_high_availability.html">MySQL的高可用方案（一）</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_privileges.html">MySQL权限管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_backup.html">MySQL数据库的备份</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongodb.html">MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_logs.html">MySQL日志相关服务器变量</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_optimize.html">MySQL优化-《高性能MySQL》笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_tuning.html">MySQL通用调优原则</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_key.html">MySQL中的索引-读书笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_status.html">MySQL服务器状态</a></li>
<li class="toctree-l1"><a class="reference internal" href="mysql_replication.html">MySQL复制</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="secure_task.html">运维常用工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcp-wrappers.html">简易防火墙TCP-Wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="selinux.html">探索SELinux</a></li>
<li class="toctree-l1"><a class="reference internal" href="intrusion.html">入侵检测与响应</a></li>
<li class="toctree-l1"><a class="reference internal" href="penetration-testing.html">渗透测试</a></li>
<li class="toctree-l1"><a class="reference internal" href="snort.html">入侵检测工具－Snort</a></li>
<li class="toctree-l1"><a class="reference internal" href="openvas.html">学习弱点扫描工具-openVAS</a></li>
<li class="toctree-l1"><a class="reference internal" href="jail.html">如何让特定用户通过SSH登陆后自动chroot？</a></li>
<li class="toctree-l1"><a class="reference internal" href="logfilter.html">Apache日志过滤－是否可以用来预防DDOS</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="zabbix.html">配置Zabbix</a></li>
<li class="toctree-l1"><a class="reference internal" href="net-snmp.html">Net-SNMP使用心得</a></li>
<li class="toctree-l1"><a class="reference internal" href="puppet.html">配置管理工具-Puppet</a></li>
<li class="toctree-l1"><a class="reference internal" href="foreman.html">Nginx+Foreman+Passenger</a></li>
<li class="toctree-l1"><a class="reference internal" href="nagios.html">监控工具-Nagios</a></li>
<li class="toctree-l1"><a class="reference internal" href="proc.html">文件系统/proc</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="jenkins.html">赤兔项目持续集成系统－Jenkins CI部署</a></li>
<li class="toctree-l1"><a class="reference internal" href="svn.html">SVN Q/A</a></li>
<li class="toctree-l1"><a class="reference internal" href="svn_mirror.html">SVN仓库安全之镜像备份</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sscanf.html">一个字符引发的问题 - sscanf</a></li>
<li class="toctree-l1"><a class="reference internal" href="unicode.html">折磨人的字符编码问题</a></li>
<li class="toctree-l1"><a class="reference internal" href="comm_pipe.html">命令行管道编程</a></li>
<li class="toctree-l1"><a class="reference internal" href="libpcap.html">抓包-libpcap</a></li>
<li class="toctree-l1"><a class="reference internal" href="libevent.html">Learning libevent Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="epoll.html">epoll API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python.html">Learning Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="spider.html">爬虫框架 - scrapy</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymysql.html">Python-MySQL使用心得</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_network.html">Python网络库的使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_evolution.html">Code Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_var.html">Pyhton中变量的作用域</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="proverb.html">箴言</a></li>
<li class="toctree-l1"><a class="reference internal" href="children.html">小孩教育</a></li>
<li class="toctree-l1"><a class="reference internal" href="song.html">知足</a></li>
<li class="toctree-l1"><a class="reference internal" href="holdteam.html">保持团队稳定</a></li>
<li class="toctree-l1"><a class="reference internal" href="live_finace.html">神仙打架-互联网金融</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_wuyi.html">武夷山之行</a></li>
<li class="toctree-l1"><a class="reference internal" href="iamprogramer.html">程序人生</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">FreeBSD点滴</a><ul>
<li><a class="reference internal" href="#localization">本地化问题 - Localization</a><ul>
<li><a class="reference internal" href="#locale">调整Locale设定的两种方法</a><ul>
<li><a class="reference internal" href="#id1">登陆级别的设定</a></li>
<li><a class="reference internal" href="#shell">设定Shell启动文件</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#shelllinux">Shell命令与Linux的不同</a><ul>
<li><a class="reference internal" href="#sed">sed</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="gentoo.html" title="Previous Chapter: Gentoo点滴"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Gentoo点滴</span>
    </a>
  </li>
  <li>
    <a href="datamining.html" title="Next Chapter: 学习数据挖掘"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">学习数据挖掘 &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">FreeBSD点滴</a><ul>
<li><a class="reference internal" href="#localization">本地化问题 - Localization</a><ul>
<li><a class="reference internal" href="#locale">调整Locale设定的两种方法</a><ul>
<li><a class="reference internal" href="#id1">登陆级别的设定</a></li>
<li><a class="reference internal" href="#shell">设定Shell启动文件</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#shelllinux">Shell命令与Linux的不同</a><ul>
<li><a class="reference internal" href="#sed">sed</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="sourcelink">
  <a href="_sources/freebsd.txt"
     rel="nofollow">Source</a>
</div>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="freebsd">
<h1>FreeBSD点滴<a class="headerlink" href="#freebsd" title="Permalink to this headline">¶</a></h1>
<p>FreeBSD默认使用的是<code class="docutils literal"><span class="pre">csh</span></code>刚从Linux切换过去感觉相当的不爽，可以通过命令<code class="docutils literal"><span class="pre">chsh</span></code>来改变帐户shell，比较生猛的方法：直接修改&#8221;<em>/etc/passwd</em>&#8220;文件。</p>
<div class="section" id="localization">
<h2>本地化问题 - Localization<a class="headerlink" href="#localization" title="Permalink to this headline">¶</a></h2>
<p>默认情况下显示中文会是乱码，从Linux切换过去，所以知道需要修改环境变量<code class="docutils literal"><span class="pre">LC_*</span></code>和<code class="docutils literal"><span class="pre">LANG</span></code>的值。FreeBSD在这方面与Linux不太一样。</p>
<p>FreeBSD中可以在用户配置文件<code class="docutils literal"><span class="pre">~/.login_conf,</span> <span class="pre">~/.profile,</span> <span class="pre">~/.bashrc,</span> <span class="pre">~/.cshrc</span></code>中设定环境变量<code class="docutils literal"><span class="pre">LANG</span></code>和<code class="docutils literal"><span class="pre">MM_CHARSET</span></code>来进行调整。</p>
<div class="section" id="locale">
<h3>调整Locale设定的两种方法<a class="headerlink" href="#locale" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>登陆级别的设定<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">系统级设定<code class="docutils literal"><span class="pre">/etc/login.conf</span></code>
修改<code class="docutils literal"><span class="pre">/etc/login.conf</span></code>中的设定，将对所有用户生效。如：</p>
<div class="highlight-text"><div class="highlight"><pre>language_name|account_type_description:\
    :charset=MIME_charset:\
    :lang=locale_name:\
    :tc=default:
</pre></div>
</div>
<p>修改<code class="docutils literal"><span class="pre">/etc/login.conf</span></code>后，需要运行<code class="docutils literal"><span class="pre">cap_mkdb</span></code>来更新数据库：</p>
<div class="highlight-bash"><div class="highlight"><pre>cap_mkdb /etc/login.conf
</pre></div>
</div>
</li>
<li><p class="first">用户级设定<code class="docutils literal"><span class="pre">~/.login.conf</span></code></p>
<p>与系统级设定语法相同，每个用户可以自定义相应的环境参数。</p>
<div class="highlight-text"><div class="highlight"><pre>me:\
    :charset=utf-8:\
    :lang=en_US.UTF-8:
</pre></div>
</div>
</li>
</ol>
<p>从上面可以看出BSD的设定要求与Linux还是颇为相似的，只是BSD的格式与Linux下的<code class="docutils literal"><span class="pre">\</span>
<span class="pre">/etc/login.conf</span></code>不一样，而且Linux下的很多设置都写在<code class="docutils literal"><span class="pre">/etc/profile</span></code>中。关于<code class="docutils literal"><span class="pre">login.conf</span></code>的详细设定可以查看man手册。</p>
<p>另外还有一些常用命令可以用来调整Locale设定：</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">vipw</span></code>(root)将会打开一个类似<code class="docutils literal"><span class="pre">/etc/passwd</span></code>的文件，对于普通用户，<code class="docutils literal"><span class="pre">vipw</span></code>打开的文件比<code class="docutils literal"><span class="pre">/etc/passwd</span></code>多三个分隔符“:”，其中有一个位置是用来设定Language。如下：</p>
<div class="highlight-text"><div class="highlight"><pre># /etc/passwd
xxxxxx:\*:1002:1002:xxxxxx:/home/xxxxxx:/usr/local/bin/bash

# vipw打开的文件
xxxxxx:passwd:1002:1002:language:0:0:xxxxxx:/home/xxxxxx:/usr/local/bin/bash
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">adduser</span></code>添加用户时进行设定。</p>
<ul>
<li><p class="first">修改添加用户时的配置文件<code class="docutils literal"><span class="pre">/etc/adduser.conf</span></code>，再其中设定添加用户时使用的Language－<code class="docutils literal"><span class="pre">defaultclass</span> <span class="pre">=</span> <span class="pre">language</span></code>，<code class="docutils literal"><span class="pre">/etc/adduser.conf</span></code>
的详细配置查看Man手册。</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="na">defaultclass</span> <span class="o">=</span> <span class="s">zh_CN.UTF-8</span>
</pre></div>
</div>
</li>
<li><p class="first">命令提示时输入：</p>
<div class="highlight-bash"><div class="highlight"><pre>adduser
... ...
Enter login class: default<span class="o">[]</span>:
</pre></div>
</div>
</li>
<li><p class="first">由命令行参数指定：<code class="docutils literal"><span class="pre">adduser</span> <span class="pre">-class</span> <span class="pre">language</span></code></p>
</li>
</ul>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">pw</span></code> 当<code class="docutils literal"><span class="pre">pw</span></code>用于创建新用户时，可以通过命令行参数来指定Language。如：</p>
<div class="highlight-bash"><div class="highlight"><pre>pw useradd userName -L language
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="shell">
<h4>设定Shell启动文件<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">文件<code class="docutils literal"><span class="pre">/etc/profile</span></code></p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export  </span><span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8
<span class="nb">export  </span><span class="nv">MM_CHARSET</span><span class="o">=</span>UTF-8
</pre></div>
</div>
</li>
<li><p class="first">文件<code class="docutils literal"><span class="pre">/etc/csh.login</span></code></p>
<div class="highlight-csh"><div class="highlight"><pre><span class="nb">setenv  </span>LANG        en_US.UTF-8
<span class="nb">setenv  </span>MM_CHARSET  UTF-8
</pre></div>
</div>
</li>
<li><p class="first">添加用户，HOME</p>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="shelllinux">
<h2>Shell命令与Linux的不同<a class="headerlink" href="#shelllinux" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sed">
<h3>sed<a class="headerlink" href="#sed" title="Permalink to this headline">¶</a></h3>
<p>在Linux下，命令<cite>sed -i &#8216;s/a/b/g&#8217; file</cite>可以直接替换文件中的内容，不过在FreeBSD上却需要在选项<code class="docutils literal"><span class="pre">-i</span></code>后面加上一个空字符&#8221;&#8220;才可以完成同样的任务。看看<code class="docutils literal"><span class="pre">man</span></code>手册中是怎么说明的。</p>
<ul>
<li><p class="first">Linux中关于选项<code class="docutils literal"><span class="pre">-i</span></code>的说明：</p>
<p>-i[SUFFIX], &#8211;in-place[=SUFFIX]</p>
<blockquote>
<div><p>edit files in place (makes backup if extension supplied)</p>
</div></blockquote>
</li>
<li><p class="first">FreeBSD中关于选项<code class="docutils literal"><span class="pre">-i</span></code>的说明：</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-i <var>extension</var></span></kbd></td>
<td><p class="first last">Edit files in-place similarly to -I, but treat each file independently
from other files.  In particular, line numbers in each
file start at 1, the “$” address matches the last line of the
current file, and address ranges are limited to the current file.
(See Sed Addresses.)  The net result is as though each file were
edited by a separate sed instance.</p>
</td></tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/freebsd.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2013, Liu Hui.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>